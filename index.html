<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calm Companion â€” Mental Health Chatbot</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>How are you feeling today?</h1>
      <p class="subtitle">Calm Companion â€” gentle check-ins & short exercises</p>
    </header>

    <main class="card">
      <section class="mood-row" aria-label="mood selection">
        <button class="mood" data-mood="happy" title="Happy">ğŸ˜Š</button>
        <button class="mood" data-mood="neutral" title="Neutral">ğŸ˜</button>
        <button class="mood" data-mood="sad" title="Sad">ğŸ˜¢</button>
        <button class="mood" data-mood="angry" title="Angry">ğŸ˜ </button>
        <button class="mood" data-mood="tired" title="Tired">ğŸ˜´</button>
      </section>

      <section id="chatbox" class="chatbox hidden" aria-live="polite">
        <div id="chatlog" class="chatlog" role="log" aria-atomic="false"></div>

        <div id="typingIndicator" class="typing hidden" aria-hidden="true">
          <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>

        <div class="input-area">
          <input id="userInput" type="text" placeholder="Type your thoughts... (press Enter to send)" />
          <button id="sendBtn">Send</button>
        </div>
      </section>

      <section id="controls" class="controls hidden" aria-hidden="true">
        <button id="btnBreath" class="pill">ğŸ« Breathing Exercise</button>
        <button id="btnMind" class="pill">ğŸ§  Mind Exercise</button>
        <button id="btnHistory" class="pill">ğŸ“ˆ Mood Summary</button>
        <button id="btnFeedback" class="pill">ğŸ“ Give Feedback</button>
      </section>

      <section id="journalSection" class="journal hidden" aria-hidden="true">
        <h2>Gratitude Journal</h2>
        <textarea id="journalEntry" placeholder="Write 1â€“3 things you're grateful for today..."></textarea>
        <div class="journal-row">
          <button id="saveJournal" class="pill primary">Save Entry</button>
          <button id="viewJournal" class="pill">View Entries</button>
        </div>
      </section>
    </main>

    <aside class="sidecard" aria-label="info">
      <div id="affirmation" class="affirmation">Tap a mood to begin â€” you'll get a friendly response and a small exercise when needed.</div>
      <div id="streak" class="streak">Streak: â€”</div>
      <div id="moodStats" class="mood-stats">Recent: â€”</div>
      <hr />
      <div class="feedback-preview">
        <strong>Recent feedback</strong>
        <div id="feedbackPreview" class="feedback-preview-list">No feedback yet</div>
        <button id="viewAllFeedback" class="pill" style="margin-top:10px">View All Feedback</button>
      </div>
    </aside>

    <!-- Main Safety Footer -->
    <footer class="app-footer">
      <small>Built with care by <strong>Sea Phogojane</strong> â€¢ it is open source on  
      <a href="https://github.com/Creativehubcenter/PLP-Cohort-Final-Project-.git" target="_blank">GitHub</a>
      and hosted on 
      <a href="https://mental-health-check-inn.netlify.app/" target="_blank">Netlify</a> â€¢ This chatbot is not a substitute for professional help. If you're in crisis, contact local emergency services or a helpline.</small>
    </footer>
  </div>

  <!-- BREATH MODAL -->
  <div id="breathModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>Breathing Exercise</h3>
      <p class="muted">Follow the circle. Breathe in â†’ hold â†’ breathe out. (2 minutes recommended)</p>
      <div id="breathCircle" class="breath-circle"></div>
      <div id="breathText" class="breath-text">Ready?</div>
      <div class="modal-row">
        <button id="startBreath" class="pill primary">Start</button>
        <button data-close class="pill">Close</button>
      </div>
    </div>
  </div>

  <!-- MIND MODAL -->
  <div id="mindModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>Mind Exercise â€” 1 Minute Focus</h3>
      <p class="muted">A short guided focus to reset attention. Follow the prompts and the countdown.</p>
      <div id="mindInstruction" class="mind-instruction">When ready, press Start.</div>
      <div id="mindTimer" class="mind-timer">00:60</div>
      <div class="modal-row">
        <button id="startMind" class="pill primary">Start</button>
        <button data-close class="pill">Close</button>
      </div>
    </div>
  </div>

  <!-- SUMMARY MODAL -->
  <div id="summaryModal" class="modal hidden">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>Weekly Mood Summary</h3>
      <div id="summaryContent" class="summary-content"></div>
      <div class="modal-row">
        <button data-close class="pill">Close</button>
      </div>
    </div>
  </div>

  <!-- JOURNAL MODAL -->
  <div id="journalModal" class="modal hidden">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>Saved Gratitude Entries</h3>
      <div id="journalList" class="journal-list"></div>
      <div class="modal-row">
        <button id="clearJournal" class="pill">Clear All</button>
        <button data-close class="pill">Close</button>
      </div>
    </div>
  </div>

  <!-- FEEDBACK MODAL -->
  <div id="feedbackModal" class="modal hidden">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>Give Feedback</h3>
      <p class="muted">Rate your experience and share any thoughts (optional).</p>

      <div class="stars" id="starRow">
        <button class="star" data-rate="1">â˜†</button>
        <button class="star" data-rate="2">â˜†</button>
        <button class="star" data-rate="3">â˜†</button>
        <button class="star" data-rate="4">â˜†</button>
        <button class="star" data-rate="5">â˜†</button>
      </div>

      <textarea id="feedbackText" placeholder="How did this chat make you feel?"></textarea>

      <div class="modal-row">
        <button id="submitFeedback" class="pill primary">Submit Feedback</button>
        <button data-close class="pill">Cancel</button>
      </div>
    </div>
  </div>

  <!-- FEEDBACK LIST MODAL -->
  <div id="feedbackListModal" class="modal hidden">
    <div class="modal-content">
      <button class="modal-close" data-close>&times;</button>
      <h3>All Feedback</h3>
      <div id="allFeedbackList" class="feedback-list"></div>
      <div class="modal-row">
        <button id="clearFeedback" class="pill">Clear All</button>
        <button data-close class="pill">Close</button>
      </div>
    </div>
  </div>

  <audio id="ding" src="" preload="auto"></audio>

  <script src="index.js"></script>
</body>
</html>

