:root{
  --bg1: linear-gradient(135deg,#a8edea,#fed6e3);
  --card-bg: #ffffff;
  --muted: #6b7280;
  --accent: #6fcf97;
  --maxwidth: 1100px;
  --radius: 14px;
  --star-gold: #f6b93b;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
body{
  background: var(--bg1);
  display:flex;align-items:center;justify-content:center;padding:28px;
}

.app{width:100%;max-width:var(--maxwidth);display:grid;grid-template-columns:1fr 320px;gap:20px;align-items:start}
@media (max-width:900px){.app{grid-template-columns:1fr; padding:12px}}

.app-header{grid-column:1/-1;text-align:center;margin-bottom:6px}
.app-header h1{margin:0;font-size:1.5rem}
.subtitle{margin:4px 0 12px;color:var(--muted);font-size:0.95rem}

.card{
  background:var(--card-bg);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:0 8px 30px rgba(16,24,40,0.08);
}

/* Mood row */
.mood-row{display:flex;justify-content:space-between;gap:8px;margin-bottom:14px}
.mood{flex:1;border:0;background:#fbfbfb;padding:10px;border-radius:12px;font-size:28px;cursor:pointer;transition:transform .15s,box-shadow .15s}
.mood:hover{transform:translateY(-4px);box-shadow:0 6px 18px rgba(10,10,10,0.06)}
.mood:active{transform:translateY(0)}

/* Chatbox */
.chatbox{display:flex;flex-direction:column;gap:8px}
.chatlog{height:220px;overflow:auto;padding:8px;border-radius:10px;background:#f7f9fb;border:1px solid #eef2f7}
.message{display:inline-block;padding:8px 10px;margin:6px 0;border-radius:12px;max-width:82%;animation:pop .25s ease}
.message.bot{background:#eef7f2;border:1px solid #e1f3e8}
.message.user{background:#fff;border:1px solid #e3e3e3;align-self:flex-end}
@keyframes pop{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* typing indicator */
.typing{display:flex;gap:6px;align-items:center;padding:6px 8px}
.typing .dot{width:8px;height:8px;border-radius:50%;background:#cbd5e1;animation:dot 1s infinite}
.typing .dot:nth-child(2){animation-delay:.15s}
.typing .dot:nth-child(3){animation-delay:.3s}
@keyframes dot{0%{transform:translateY(0);opacity:.6}50%{transform:translateY(-6px);opacity:1}100%{transform:translateY(0);opacity:.6}}

/* inputs */
.input-area{display:flex;gap:8px}
#userInput{flex:1;padding:10px;border-radius:10px;border:1px solid #e5e7eb}
#sendBtn{background:var(--accent);color:#fff;border:0;padding:10px 12px;border-radius:10px;cursor:pointer}

/* controls & pills */
.controls{display:flex;gap:8px;margin:10px 0;flex-wrap:wrap}
.pill{padding:8px 12px;border-radius:999px;border:1px solid #e6eef2;background:#fff;cursor:pointer}
.pill.primary{background:var(--accent);color:#fff;border:0}

/* Journal */
.journal{margin-top:8px}
.journal textarea{width:100%;min-height:78px;padding:10px;border-radius:10px;border:1px solid #e6eef2}
.journal-row{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}

/* aside */
.sidecard{background:#fff;border-radius:var(--radius);padding:16px;box-shadow:0 8px 30px rgba(16,24,40,0.06)}
.affirmation{font-weight:600;margin-bottom:8px}
.streak,.mood-stats{color:var(--muted);font-size:0.95rem;margin-top:8px}
.feedback-preview-list{margin-top:8px;color:var(--muted);font-size:0.95rem}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;background:rgba(11,15,21,0.35);z-index:60}
.modal-content{background:#fff;padding:18px;border-radius:12px;max-width:520px;width:100%;box-shadow:0 12px 40px rgba(2,6,23,0.2)}
.modal .modal-row{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.modal-close{float:right;border:0;background:transparent;font-size:18px;cursor:pointer}

/* breath circle */
.breath-circle{width:140px;height:140px;border-radius:50%;margin:18px auto;background:linear-gradient(180deg,#d6f8f0,#f0fcfb);display:flex;align-items:center;justify-content:center;transition:transform 3s ease}
.breath-text{text-align:center;font-weight:600;color:#0f172a}

/* mind timer */
.mind-timer{font-size:2rem;text-align:center;margin:12px 0;font-weight:700}
.mind-instruction{color:var(--muted);text-align:center}

/* stars */
.stars{display:flex;gap:6px;justify-content:center;margin:8px 0}
.star{font-size:28px;padding:6px 8px;border-radius:6px;border:0;background:transparent;cursor:pointer}
.star.active{color:var(--star-gold);transform:scale(1.05);}

/* feedback list */
.feedback-list{max-height:300px;overflow:auto}
.feedback-item{border-bottom:1px solid #f1f5f9;padding:8px 6px}
.feedback-item small{color:var(--muted);display:block;margin-bottom:6px}

/* small */
.muted{color:var(--muted);font-size:0.95rem}
.hidden{display:none}

/* footer */
.app-footer{grid-column:1/-1;text-align:center;margin-top:8px;color:var(--muted);font-size:0.85rem}

/* colors per mood (applied to body via JS) */
.theme-happy{background:linear-gradient(135deg,#fff7d6,#d6fce8)}
.theme-neutral{background:linear-gradient(135deg,#f3f4f6,#ffffff)}
.theme-sad{background:linear-gradient(135deg,#dbeafe,#e9f0ff)}
.theme-angry{background:linear-gradient(135deg,#ffe9e9,#fff3d6)}
.theme-tired{background:linear-gradient(135deg,#eee7ff,#f6f0ff)}

/* small screens adjustments */
@media (max-width:600px){
  .app{grid-template-columns:1fr;gap:12px}
  .sidecard{order:3}
}
